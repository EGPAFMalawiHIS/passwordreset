<nav class="bg-primary-700 shadow-lg">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="flex h-16 justify-between">
      <div class="flex">
        <div class="flex flex-shrink-0 items-center">
          <svg class="h-8 w-8 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z" />
          </svg>
          <span class="ml-2 text-xl font-bold text-white">Password Reset System</span>
        </div>
        <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
          <%= link_to "Dashboard", dashboard_path, class: "#{current_page?(dashboard_path) ? 'border-white text-white' : 'border-transparent text-primary-100 hover:border-primary-300 hover:text-white'} inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium" %>
          
          <%= link_to "Transactions", reset_transactions_path, class: "#{current_page?(reset_transactions_path) ? 'border-white text-white' : 'border-transparent text-primary-100 hover:border-primary-300 hover:text-white'} inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium" %>
          
          <%= link_to "Reports", reports_reset_transactions_path, class: "#{current_page?(reports_reset_transactions_path) ? 'border-white text-white' : 'border-transparent text-primary-100 hover:border-primary-300 hover:text-white'} inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium" %>
          
          <%= link_to "New Reset", new_reset_transaction_path, class: "#{current_page?(new_reset_transaction_path) ? 'border-white text-white' : 'border-transparent text-primary-100 hover:border-primary-300 hover:text-white'} inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium" %>
        </div>
      </div>
      
      <div class="hidden sm:ml-6 sm:flex sm:items-center">
        <!-- Notification bell -->
        <button type="button" class="rounded-full bg-primary-700 p-1 text-primary-100 hover:text-white focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-primary-700">
          <span class="sr-only">View notifications</span>
          <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0" />
          </svg>
        </button>

        <!-- Profile dropdown -->
        <div class="relative ml-3" data-controller="dropdown">
          <div>
            <button type="button" class="flex rounded-full bg-primary-700 text-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-primary-700" id="user-menu-button" data-action="click->dropdown#toggle">
              <span class="sr-only">Open user menu</span>
              <div class="flex h-8 w-8 items-center justify-center rounded-full bg-primary-600 text-white">
                <%= current_user.first_name[0] %><%= current_user.last_name[0] %>
              </div>
            </button>
          </div>
          
          <div class="absolute right-0 z-10 mt-2 hidden w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none" role="menu" data-dropdown-target="menu">
            <div class="block px-4 py-2 text-xs text-gray-500">
              Signed in as <span class="font-medium"><%= current_user.username %></span>
            </div>
            <div class="border-t border-gray-100"></div>
            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem">Your Profile</a>
            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem">Settings</a>
            <%= link_to logout_path, method: :delete, class: "block w-full px-4 py-2 text-left text-base font-medium text-primary-100 hover:bg-primary-600 hover:text-white" do %>
              Sign out
            <% end %>
          </div>
        </div>
      </div>
      
      <!-- Mobile menu button -->
      <div class="-mr-2 flex items-center sm:hidden">
        <button type="button" class="inline-flex items-center justify-center rounded-md p-2 text-primary-100 hover:bg-primary-600 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white" data-controller="mobile-menu" data-action="click->mobile-menu#toggle">
          <span class="sr-only">Open main menu</span>
          <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile menu, show/hide based on menu state -->
  <div class="hidden sm:hidden" data-mobile-menu-target="menu">
    <div class="space-y-1 pb-3 pt-2">
      <%= link_to "Dashboard", dashboard_path, class: "#{current_page?(dashboard_path) ? 'bg-primary-800 text-white' : 'text-primary-100 hover:bg-primary-600 hover:text-white'} block border-l-4 border-transparent py-2 pl-3 pr-4 text-base font-medium" %>
      
      <%= link_to "Transactions", reset_transactions_path, class: "#{current_page?(reset_transactions_path) ? 'bg-primary-800 text-white' : 'text-primary-100 hover:bg-primary-600 hover:text-white'} block border-l-4 border-transparent py-2 pl-3 pr-4 text-base font-medium" %>
      
      <%= link_to "Reports", reports_reset_transactions_path, class: "#{current_page?(reports_reset_transactions_path) ? 'bg-primary-800 text-white' : 'text-primary-100 hover:bg-primary-600 hover:text-white'} block border-l-4 border-transparent py-2 pl-3 pr-4 text-base font-medium" %>
      
      <%= link_to "New Reset", new_reset_transaction_path, class: "#{current_page?(new_reset_transaction_path) ? 'bg-primary-800 text-white' : 'text-primary-100 hover:bg-primary-600 hover:text-white'} block border-l-4 border-transparent py-2 pl-3 pr-4 text-base font-medium" %>
    </div>
    
    <div class="border-t border-primary-800 pb-3 pt-4">
      <div class="flex items-center px-4">
        <div class="flex-shrink-0">
          <div class="flex h-10 w-10 items-center justify-center rounded-full bg-primary-600 text-white">
            <%= current_user.first_name[0] %><%= current_user.last_name[0] %>
          </div>
        </div>
        <div class="ml-3">
          <div class="text-base font-medium text-white"><%= current_user.full_name %></div>
          <div class="text-sm font-medium text-primary-100"><%= current_user.username %></div>
        </div>
      </div>
      <div class="mt-3 space-y-1">
        <a href="#" class="block px-4 py-2 text-base font-medium text-primary-100 hover:bg-primary-600 hover:text-white">Your Profile</a>
        <a href="#" class="block px-4 py-2 text-base font-medium text-primary-100 hover:bg-primary-600 hover:text-white">Settings</a>
        <%= link_to logout_path, method: :delete, class: "block w-full px-4 py-2 text-left text-base font-medium text-primary-100 hover:bg-primary-600 hover:text-white" do %>
          Sign out
        <% end %>
      </div>
    </div>
  </div>
</nav>
